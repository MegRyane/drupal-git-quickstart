<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.5.2" />
<title>Durpal git quickstart</title>
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #dddddd;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > div.content {
  white-space: pre;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}


@media print {
  div#footer-badges { display: none; }
}

div#toc {
  margin-bottom: 2.5em;
}

div#toctitle {
  color: #527bbd;
  font-family: sans-serif;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock-content {
  white-space: pre;
}
div.verseblock-attribution {
  padding-top: 0.75em;
  text-align: left;
}

div.exampleblock-content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

/* IE6 sets dynamically generated links as visited. */
div#toc a:visited { color: blue; }
</style>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes();}
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  var cont = document.getElementById("content");
  var noteholder = document.getElementById("footnotes");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      // Use [\s\S] in place of . so multi-line matches work.
      // Because JavaScript has no s (dotall) regex flag.
      note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      spans[i].innerHTML =
        "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
        "' title='View footnote' class='footnote'>" + n + "</a>]";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
}

}
/*]]>*/
</script>
</head>
<body>
<div id="header">
<h1>Durpal git quickstart</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>This is a git analogous of the drupal quickstart handbook for CVS.</p></div>
</div>
</div>
<h2 id="_before_you_start">Before you start</h2>
<div class="sectionbody">
<div class="paragraph"><p>Before you get started, you really should understand some basic concepts about Revision Control Systems, of which git is one. Please read the <a href="http://TODO">git Introduction</a> and make sure you have a basic understanding before proceeding, particularly pay attention to the concepts of branches and tags.</p></div>
<div class="paragraph"><p>Take some time to figure out the directory structure for your module, it helps(but renaming files in DVCS is easy ;-)).</p></div>
<div class="paragraph"><p>When your module is ready for release, you&#8217;ll need to apply for a <a href="http://drupal.org/cvs-application/requirements">contrib account</a>. Please note that you can work in your own git-clone&#8217;s of projects you want to hack/help. Also, note that you will need to create your project page on drupal.org if you want to create a new module. Check the <a href="http://drupal.org/node/100748">step-by-step guide to creating new projects</a> for more information.</p></div>
</div>
<h2 id="_basics">Basics</h2>
<div class="sectionbody">
<h3 id="_who_are_you">Who are you?</h3><div style="clear:left"></div>
<div class="paragraph"><p>When you want to start working on a repo(aka commit) you want your changes are authored by your right information.</p></div>
<div class="paragraph"><p>Make sure git knows who to blame, by editing <em>$HOME/.gitconfig</em>:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>[user]
        name = Your Name Comes Here
        email = you@yourdomain.example.com</tt></pre>
</div></div>
<h3 id="_adding_a_new_module_to_contrib">Adding a new module to contrib</h3><div style="clear:left"></div>
<div class="paragraph"><p>Probably you now have a functional module versioned in git, if so jump to</p></div>
<h4 id="_starting_your_module">Starting your module</h4>
<div class="paragraph"><p>The next assumes you have a minimal module running(probably only a full *.info and an empty *.module files)</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cd /path/to/your/module/yourawesomemodule
git init
git add <span style="color: #990000">.</span>
git commit -m <span style="color: #FF0000">"Starting yourawesomemodule"</span></tt></pre></div></div>
<h4 id="_making_your_module_avalaible_in_git_drupal_org">Making your module avalaible in git.drupal.org</h4>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
create a module project page(that will handle the creeation of your empty repo in git.drupal.org)
</p>
</li>
<li>
<p>
Actually push your changes
</p>
</li>
</ol></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cd /path/to/your/module/yourawesomemodule
git remote add origin gitosis@git<span style="color: #990000">.</span>drupal<span style="color: #990000">.</span>org<span style="color: #990000">:</span>yourawesomemodule<span style="color: #990000">.</span>git
git push origin master</tt></pre></div></div>
<h3 id="_saving_changes_to_your_module">Saving changes to your module</h3><div style="clear:left"></div>
<div class="paragraph"><p>Bugs and features are tracked in your project&#8217;s <a href="http://drupal.org/project/issues">issue queue</a>. It is customary in the <a href="http://drupal.org/node/52287">commit message</a> to reference the node ID of the issue where the bug/feature request was raised, and mention any contributors who helped with the code(probably not commit authors). After making the changes in your local repository, you need to commit them to the git repository:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git commit -m <span style="color: #FF0000">"#12345 by username: Brief description of changes."</span></tt></pre></div></div>
<div class="paragraph"><p>If you&#8217;re adding some new files you need to do this before commiting:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git add file1<span style="color: #990000">.</span>inc images/image<span style="color: #993399">1</span><span style="color: #990000">.</span>png</tt></pre></div></div>
<h3 id="_obtaining_latest_changes">Obtaining latest changes</h3><div style="clear:left"></div>
<div class="paragraph"><p>Both before you begin editing and before you save your changes, it&#8217;s a good idea to grab the latest changes from git with the update command:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git pull</tt></pre></div></div>
<h3 id="_removing_files_from_git">Removing files from git</h3><div style="clear:left"></div>
<div class="paragraph"><p>Sometimes a newer version of a module doesn&#8217;t require a certain file anymore. If this file is <em>foo.bar.inc</em>, you need the following command to remove it:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git rm foo<span style="color: #990000">.</span>bar<span style="color: #990000">.</span>inc
git commit -m <span style="color: #FF0000">"some sort of a message as to why you removed the file"</span>
git push</tt></pre></div></div>
<div class="paragraph"><p>Like <em>git add</em>, <em>git rm</em> tells CVS you want to remove the file, and it isn&#8217;t actually removed until the <em>git commit</em>.</p></div>
</div>
<h2 id="_branching_and_tagging">Branching and tagging</h2>
<div class="sectionbody">
<div class="paragraph"><p>git allows you to keep different versions of your code active on different branches, and to tag different versions of your code. Drupal modules use git branches and tags in very specific ways, which are described fully on other pages:</p></div>
<div class="ulist"><ul>
<li>
<p>
Read the <a href="http://TODO">git Introduction</a> if you do not understand what CVS branches and tags are.
</p>
</li>
<li>
<p>
Read the <a href="http://drupal.org/node/93999">Release tags and version numbers</a> page to learn how Drupal modules should tie git branch and tag IDs to released versions.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The sections below cover the git commands used for branching and tagging, and assume you have already figured out why you are branching and tagging, and what branch/tag ID you want to use.</p></div>
<h3 id="_before_branching_or_tagging">Before branching or tagging</h3><div style="clear:left"></div>
<div class="paragraph"><p>If you have just made the initial commit to a new module, you should have created a project on drupal.org before you started. If you didn&#8217;t, do that now, before before proceeding with creating a branch or tag.</p></div>
<div class="paragraph"><p>Before you enter the command to create a tag or branch, verify that the directory you&#8217;re about to tag has the correct version of your code in it, that the code has been committed, and if you are tagging, that you are on the correct branch. In order to create a new branch, first change to the HEAD branch, and create your new branch as a copy of the HEAD branch, as shown in the examples below.</p></div>
<h3 id="_branching_for_a_specific_drupal_core_version">Branching for a specific Drupal core version</h3><div style="clear:left"></div>
<div class="paragraph"><p>Branching indicates the code&#8217;s compatibility with Drupal core. For more information on when to branch and why, read the <a href="http://drupal.org/node/93999">overview of contributions branches and tags</a> documentation.</p></div>
<div class="paragraph"><p>For example, if you want to create a branch called "DRUPAL-6&#8212;1" based on the contents of actual master, you would use the following commands:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git checkout -b DRUPAL-<span style="color: #993399">6</span>--<span style="color: #993399">1</span> master</tt></pre></div></div>
<div class="paragraph"><p>That also switch you to your new branch</p></div>
<div class="paragraph"><p>Now you want to make some commits in that branch(no necessary now).</p></div>
<div class="paragraph"><p>And then put the branch on git.drupal.org:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git push origin DRUPAL-<span style="color: #993399">6</span>--<span style="color: #993399">1</span></tt></pre></div></div>
<div class="paragraph"><p>You can check which branch you are currently using by issuing a status command:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git status</tt></pre></div></div>
<div class="paragraph"><p>Also maybe you want to modify your $PS1 (google for __git_ps1 ;-))</p></div>
<div class="paragraph"><p>You can go back to using the HEAD(master) branch by issuing this command:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git checkout master</tt></pre></div></div>
<h3 id="_creating_an_official_release">Creating an official release</h3><div style="clear:left"></div>
<div class="paragraph"><p>Once your module is stable, it&#8217;s time to create an official release for it. Just as Drupal comes out with 5.0, 5.1, and such, you can (and should!) do this with your module. You do that by tagging your code.</p></div>
<div class="paragraph"><p>Assuming you are already using the correct branch (see above), and that all of your changes have been committed, you can tag your code with DRUPAL-6&#8212;1-0 (the correct tag for the 6.x-1.0 release) with the following commands:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cd /path/to/your/module/yourawesomemodule
git tag DRUPAL-<span style="color: #993399">6</span>--<span style="color: #993399">1</span>-<span style="color: #993399">0</span></tt></pre></div></div>
<div class="paragraph"><p>You also can add a message to the tag, but not necesarry.</p></div>
<div class="paragraph"><p>After tagging the module for your release, you also need to <a href="http://drupal.org/node/94151">create a release node</a> for it, so that it shows up in the list of downloads on your project page on drupal.org.</p></div>
<div class="paragraph"><p>Note that normally, releases should only be made after major bug fixes or security patches; not for minor bugs like whitespace fixes, small text fixes, and so on.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If you find a security bug, please report the vulnerability to the <a href="http://drupal.org/security-team">Security team</a> and do not commit fixes for the security vulnerability until told to do so by the security team. This gives the security team time to send an announcement out via the security newsletter and to make sure that the proposed fix for the bug actually fixes the security vulnerability.</td>
</tr></table>
</div>
<h3 id="_branching_for_new_development_versions_of_your_module">Branching for new development versions of your module</h3><div style="clear:left"></div>
<div class="paragraph"><p>Once a stable release of a module is created, you may want to continue to add features, leaving the original release of your module intact.</p></div>
<div class="paragraph"><p>To create a branch for a new major version of your module (for example, version 2.0 of the Drupal 6.0 compatible version of your module), use the following commands:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cd /path/to/your/module/yourawesomemodule
git checkout -b DRUPAL-<span style="color: #993399">6</span>--<span style="color: #993399">2</span> master</tt></pre></div></div>
<div class="paragraph"><p>Eventually, when version 2.0 is ready to be released you would tag the 2.0 version using the following commands:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cd /path/to/your/module/yourawesomemodule
git checkout DRUPAL-<span style="color: #993399">6</span>--<span style="color: #993399">2</span>
git pull
git tag DRUPAL-<span style="color: #993399">6</span>--<span style="color: #993399">2</span>-<span style="color: #993399">0</span></tt></pre></div></div>
<div class="paragraph"><p>Now you have the tag in your local repo, so push it to git.drupal.org</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git push --tags</tt></pre></div></div>
<div class="paragraph"><p>You may want to edit your project node and click the <em>releases</em> subtab and bump the major release also.</p></div>
<h3 id="_creating_a_development_snapshot_release_of_your_module">Creating a development snapshot release of your module</h3><div style="clear:left"></div>
<div class="paragraph"><p>In order to allow people to test your module while it is in development, you may wish to make a development snapshot. This will create a "dev" snapshot which will always point to the newest version of the module in a particular branch.</p></div>
<div class="paragraph"><p>To do so, make sure that the module is branched for the appropriate Drupal core version, and then <a href="http://drupal.org/node/94151">create a release node</a> pointing to that branch, rather than a specific release tag.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Developer snapshots are only generated 2 times per day.</td>
</tr></table>
</div>
<h3 id="_deleting_a_tag">Deleting a tag</h3><div style="clear:left"></div>
<div class="paragraph"><p>Note that it&#8217;s a very bad idea to delete a branch once you have started committing changes to it.</p></div>
<div class="paragraph"><p>Release nodes on drupal.org are typically never deleted. For more info about this please read the handbook page on <a href="http://drupal.org/node/128614">Fixing releases</a>. If you believe that it really is necessary to delete a release node, please <a href="http://drupal.org/node/add/project_issue/webmasters">submit an issue</a> to the drupal.org webmasters queue, and one of the <a href="http://drupal.org/site-maintainers">site maintainers</a> will be able to delete the release node from drupal.org, but only if there is a very good reason for it.</p></div>
<div class="paragraph"><p><strong>Not sure about the this paragraph</strong> In the event that there is a drupal.org release node pointing to the tag or branch you&#8217;re trying to delete, CVS will display an error when you attempt to run these commands. You will need to first get the release deleted by filing an issue as indicated above, then delete the tag or branch; then create the tag or branch, and then re-create the release.</p></div>
<div class="paragraph"><p>To delete a tag that was created in error, use the command:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git tag -d DRUPAL-<span style="color: #993399">5</span>--<span style="color: #993399">1</span>-<span style="color: #993399">0</span></tt></pre></div></div>
<div class="paragraph"><p>If you need to delete a branch that was created in error, use the command:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git checkout some_branch_that_is_not_the_brach_being_deleted
git branch -D DRUPAL-<span style="color: #993399">5</span></tt></pre></div></div>
<h3 id="_saving_changes_to_multiple_branches">Saving changes to multiple branches</h3><div style="clear:left"></div>
<div class="paragraph"><p>When you commit bug fixes, if they span more than one version, they need to be committed to each affected branch.</p></div>
<div class="paragraph"><p>So for example, if you have a <em>4.7.x-1.x</em> and <em>4.7.x-2.x</em> and <em>5.x-1.x</em> version of your module, changes that affect both the <em>4.7.x</em> and <em>5.x</em> versions need to be committed to the <em>DRUPAL-4-7</em>, <em>DRUPAL-4-7&#8212;2</em>, and <em>DRUPAL-5</em> branches.</p></div>
<div class="paragraph"><p>So, first you committed the change on the <em>DRUPAL-5</em> branch. Let see what&#8217;s the commit id for your change:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git log -<span style="color: #993399">1</span> DRUPAL-<span style="color: #993399">5</span></tt></pre></div></div>
<div class="paragraph"><p>That will give you something like:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>commit 3b9f8faf060f0098e98478a9016339f5602fd6f5
Author: Your name &lt;your@mail&gt;
Date:   Wed Feb 10 14:37:07 2010 -0500</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>the message</tt></pre>
</div></div>
<div class="paragraph"><p>The commit id is <em>3b9f8faf060f0098e98478a9016339f5602fd6f5</em>(notice we use only 7 chars instead of hte whole sha because there is a little probability that you have another sha with that start :-)), now let&#8217;s apply it to the other branches</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>git checkout DRUPAL-<span style="color: #993399">4</span>-<span style="color: #993399">7</span>
git cherry-pick 3b9f8fa
git checkout DRUPAL-<span style="color: #993399">4</span>-<span style="color: #993399">7</span>--<span style="color: #993399">2</span>
git cherry-pick 3b9f8fa</tt></pre></div></div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2010-02-10 15:29:42 PET
</div>
</div>
</body>
</html>
